(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{165:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},190:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),i=a(18),s=a.n(i),o=a(31),l=(a(165),a(15)),j=a(232),u={display:"flex",position:"fixed",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var d=function(){return Object(n.jsx)("div",{className:"LoadingScreen",style:u,children:Object(n.jsx)(j.a,{size:80})})},b=a(26),m=a(8),h=a(236),p=a(241),g=a(258),O=a(239),x=a(240),f=a(14),y=a.n(f),v=a(10),S=a.n(v),k={name:"",email:"",password:"",contactNo:"",userType:"recruiter",formType:"Login"};var C=function(){var e=Object(r.useState)(k),t=Object(l.a)(e,2),a=t[0],i=t[1],s=c.a.useContext(Be),o=s.auth,j=s.setAuth,u=function(e){i(Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{className:"LoginForm",children:[Object(n.jsx)("h1",{children:a.formType}),Object(n.jsx)("h1",{children:o.userType.toString()}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("form",{noValidate:!0,autoComplete:"off",children:["Sign up"==a.formType&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h.a,{fullWidth:!0,label:"Name",name:"name",value:a.name,onChange:u}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsx)(h.a,{fullWidth:!0,label:"Email",name:"email",value:a.email,onChange:u}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Sign up"==a.formType&&"recruiter"==a.userType&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h.a,{fullWidth:!0,label:"Contact No",name:"contactNo",value:a.contactNo,onChange:u}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsx)(h.a,{fullWidth:!0,label:"Password",type:"password",name:"password",value:a.password,onChange:u}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(O.a,{row:!0,value:a.userType,name:"userType",onChange:u,children:[Object(n.jsx)(x.a,{value:"recruiter",control:Object(n.jsx)(g.a,{}),label:"Recruiter"}),Object(n.jsx)(x.a,{value:"applicant",control:Object(n.jsx)(g.a,{}),label:"Applicant"})]}),Object(n.jsx)("br",{}),Object(n.jsx)(p.a,{variant:"contained",color:"primary",onClick:"Login"==a.formType?function(){var e={email:a.email,password:a.password},t="/api/auth/".concat(a.userType);y.a.post(t,e,{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("userType",e.data.userType),localStorage.setItem("user",JSON.stringify(e.data.user)),j({loggedIn:!0,user:e.data.user,token:e.data.token,userType:e.data.userType})})).catch((function(e){e.response?e.response.data&&e.response.data.msg&&S()("Error",e.response.data.msg,"error"):S()("Error","Something went wrong","error")}))}:function(){var e={email:a.email,password:a.password,name:a.name,contactNo:a.contactNo},t="/api/".concat(a.userType);y.a.post(t,e,{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("userType",e.data.userType),localStorage.setItem("user",JSON.stringify(e.data.user)),j({loggedIn:!0,user:e.data.user,token:e.data.token,userType:e.data.userType})})).catch((function(e){e.response.data.msg?S()("Error",e.response.data.msg,"error"):S()("Error","Something went wrong","error")}))},children:a.formType}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("a",{href:"#",onClick:function(e){e.preventDefault(),i(Object(m.a)(Object(m.a)({},k),{},{formType:"Login"==a.formType?"Sign up":"Login"}))},children:["Login"==a.formType?"Sign up":"Login"," instead"]})]})]})};a(187);var N=function(){return Object(n.jsx)("div",{className:"Home",children:Object(n.jsx)(C,{})})},T=a(238),A=a(47),w=a(204),E=a(245),I=a(201),F=a(202),D=a(257),R=a(261),P=a(141),B=a(242),L=a(243),J=a(244);a(188);var Y=function(){var e=c.a.useContext(Be),t=e.auth,a=e.setAuth,r=function(){localStorage.removeItem("user"),localStorage.removeItem("userType"),localStorage.removeItem("token"),a({loggedIn:!1,token:{},user:{},userType:""}),window.location="/"};return t.loggedIn&&"Recruiter"===t.userType?Object(n.jsx)(B.a,{position:"static",children:Object(n.jsxs)(L.a,{className:"Navbar",children:[Object(n.jsx)("h1",{style:{flexGrow:1},children:"Jobs for the Boss"}),Object(n.jsx)(J.a,{component:o.b,to:"/",children:Object(n.jsx)(p.a,{variant:"contained",style:{color:"white",backgroundColor:"rgb(143, 1, 143)",marginRight:10},children:"Create Listing"})}),Object(n.jsx)(J.a,{component:o.b,to:"/mylistings",children:Object(n.jsx)(p.a,{variant:"contained",style:{color:"white",backgroundColor:"rgb(143, 1, 143)",marginRight:10},children:"My Listings"})}),Object(n.jsx)(J.a,{component:o.b,to:"/acceptedemployees",children:Object(n.jsx)(p.a,{variant:"contained",style:{color:"white",backgroundColor:"rgb(143, 1, 143)",marginRight:10},children:"Accepted Employees"})}),Object(n.jsx)(J.a,{component:o.b,to:"/profile",children:Object(n.jsx)(p.a,{variant:"contained",color:"primary",style:{marginRight:10},children:"Profile"})}),Object(n.jsx)(p.a,{color:"secondary",variant:"contained",onClick:r,children:"Logout"})]})}):t.loggedIn&&"Applicant"===t.userType?Object(n.jsx)(B.a,{position:"static",children:Object(n.jsxs)(L.a,{className:"Navbar",children:[Object(n.jsx)("h1",{style:{flexGrow:1},children:"Jobs for the Boss"}),Object(n.jsx)(J.a,{component:o.b,to:"/",children:Object(n.jsx)(p.a,{variant:"contained",style:{color:"white",backgroundColor:"rgb(143, 1, 143)",marginRight:10},children:"Find Jobs"})}),Object(n.jsx)(J.a,{component:o.b,to:"/myapplications",children:Object(n.jsx)(p.a,{variant:"contained",style:{color:"white",backgroundColor:"rgb(143, 1, 143)",marginRight:10},children:"My Applications"})}),Object(n.jsx)(J.a,{component:o.b,to:"/profile",children:Object(n.jsx)(p.a,{variant:"contained",color:"primary",style:{marginRight:10},children:"Profile"})}),Object(n.jsx)(p.a,{color:"secondary",variant:"contained",onClick:r,children:"Logout"})]})}):null},_=(a(190),["Python","C","Javascript","C++","HTML","CSS","Java","Rust","Kotlin","PHP"]);var M=function(){var e=c.a.useContext(Be),t=e.auth,a=e.setAuth,i=Object(r.useState)({name:t.user.name,email:t.user.email,contactNo:t.user.contactNo,bio:t.user.bio,education:t.user.education,skills:t.user.skills,userType:t.userType,currInstituteName:"",currStartYear:"",currEndYear:"",currSkill:""}),s=Object(l.a)(i,2),o=s[0],j=s[1],u=function(e){j(Object(m.a)(Object(m.a)({},o),{},Object(b.a)({},e.target.name,e.target.value)))},d=function(){var e=o.bio.split(/\s+/);return e.pop(),e.length};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y,{}),Object(n.jsxs)("div",{className:"Profile",children:[Object(n.jsx)("div",{className:"Profile-side"}),Object(n.jsx)("div",{className:"Profile-header",children:Object(n.jsx)(A.a,{variant:"h1",children:"Profile"})}),Object(n.jsxs)("div",{className:"Profile-main",children:[Object(n.jsx)(A.a,{variant:"h4",children:"Basic details"}),Object(n.jsx)("br",{}),Object(n.jsxs)("form",{autoComplete:"off",children:[Object(n.jsx)(h.a,{fullWidth:!0,variant:"outlined",label:"Name",name:"name",value:o.name,onChange:u}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(h.a,{fullWidth:!0,variant:"outlined",label:"Email",name:"email",value:o.email,onChange:u}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Recruiter"==o.userType&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h.a,{fullWidth:!0,variant:"outlined",label:"Contact No",name:"contactNo",value:o.contactNo,onChange:u}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),"Recruiter"==o.userType&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(I.a,{fullWidth:!0,children:[Object(n.jsx)(h.a,{fullWidth:!0,variant:"outlined",multiline:!0,rows:"8",label:"Bio",name:"bio",value:o.bio,onChange:u}),Object(n.jsxs)(F.a,{children:[d(),"/250"]})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Applicant"==o.userType&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(A.a,{variant:"h4",children:"Education"}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"EducationForm",children:[Object(n.jsx)(h.a,{variant:"outlined",label:"Institute name",name:"currInstituteName",value:o.currInstituteName,onChange:u}),Object(n.jsx)(h.a,{variant:"outlined",label:"Start Year",name:"currStartYear",value:o.currStartYear,onChange:u}),Object(n.jsx)(h.a,{variant:"outlined",label:"End Year",name:"currEndYear",value:o.currEndYear,onChange:u}),Object(n.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){if(!o.currInstituteName.trim())return S()("Error","Institute can't be empty","error");var e=/^(19|20)\d{2}$/;if(!e.test(o.currStartYear))return S()("Error","Invalid start year","error");if(Number(o.currStartYear)>2021)return S()("Error","Invalid start year","error");if(""!==o.currEndYear.trim()){if(!e.test(o.currEndYear))return S()("Error","Invalid end year","error");if(Number(o.currEndYear)<Number(o.currStartYear))return S()("Error","Invalid start and end years","error")}var t=o.education;t.push({instituteName:o.currInstituteName,startYear:o.currStartYear,endYear:o.currEndYear}),j(Object(m.a)(Object(m.a)({},o),{},{education:t,currInstituteName:"",currEndYear:"",currStartYear:""}))},children:"Add"})]}),Object(n.jsx)(T.a,{className:"EducationList",dense:!0,children:o.education.map((function(e){return Object(n.jsxs)(w.a,{children:[Object(n.jsx)(E.a,{primary:e.instituteName,secondary:"".concat(e.startYear,"-").concat(e.endYear)}),Object(n.jsx)(P.a,{"aria-label":"delete",onClick:function(){return function(e){var t=o.education.filter((function(t){return t!==e}));j(Object(m.a)(Object(m.a)({},o),{},{education:t}))}(e)},children:"X"})]},"".concat(e.instituteName).concat(e.startYear,"-").concat(e.endYear))}))}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(A.a,{variant:"h4",children:"Skills"}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"SkillForm",children:[Object(n.jsx)(D.a,{freeSolo:!0,options:_,name:"currSkill",inputValue:o.currSkill,onInputChange:function(e,t){j(Object(m.a)(Object(m.a)({},o),{},{currSkill:t}))},renderInput:function(e){return Object(n.jsx)(h.a,Object(m.a)(Object(m.a)({},e),{},{label:"Skill",variant:"outlined"}))}}),Object(n.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){if(!o.currSkill.trim())return S()("Error","skill can't be empty","error");var e=o.skills;e.push(o.currSkill),j(Object(m.a)(Object(m.a)({},o),{},{skills:e,currSkill:""}))},children:"Add"})]}),Object(n.jsx)("br",{}),o.skills.map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(R.a,{className:"SkillChip",label:e,onDelete:function(){return function(e){var t=o.skills.filter((function(t){return t!==e}));j(Object(m.a)(Object(m.a)({},o),{},{skills:t}))}(e)}},e),Object(n.jsx)("span",{})]})})),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){if(!/\S+@\S+\.\S+/.test(o.email))return S()("Error","Invalid email","error");if("Recruiter"===o.userType){if(!/^\d{10}$/.test(o.contactNo))return S()("Error","Invalid contact no","error");if(d()>250)return S()("Error","Bio must be less than 250 words","error")}!function(){var e="/api/".concat(t.userType,"/").concat(t.user._id.toString());console.log(e);var n={headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("token")}},r=o;y.a.put(e,r,n).then((function(e){S()("Updated user","","success"),localStorage.setItem("user",JSON.stringify(e.data.user)),a(Object(m.a)(Object(m.a)({},t),{},{user:e.data.user}))})).catch((function(e){e.response.data.msg?S()("Error",e.response.data.msg,"error"):S()("Error","Something went wrong","error")}))}()},style:{marginRight:20,marginBottom:160},children:"Update"}),Object(n.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){return window.location="/"},style:{marginRight:20,marginBottom:160},children:"Cancel"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})]})]})},W=a(37),q=a.n(W),V=a(77),H=a(54),z=a(203),K=a(259),U=a(263),X=a(206),G=a(248),Z=a(249),$=a(246),Q=a(247),ee=a(262),te={id:"123456",title:"Job Title",jobType:"Full time",maxApps:10,numApps:4,maxPos:10,numAccepted:1,postingDate:1611146620579,deadlineDate:1611146620579,requiredSkills:["Python","Data Science","Javascript"],duration:3,salary:5e3,numRatings:4,ratingSum:17,recruiter:{id:"1234556",name:"XYZ Recruiters",email:"xyzrecruiters@recruiter.com"},applied:!1};var ae=function(e){var t,a=Object(r.useState)(e.listing?e.listing:te),i=Object(l.a)(a,2),s=i[0],o=(i[1],Object(r.useState)(!1)),j=Object(l.a)(o,2),u=j[0],d=j[1],b=Object(r.useState)(""),m=Object(l.a)(b,2),g=m[0],O=m[1],x=c.a.useContext(Be),f=x.auth,v=(x.setAuth,function(){var e=g.split(/\s+/);return e.pop(),e.length});return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)($.a,{style:{marginBottom:60},children:Object(n.jsxs)(Q.a,{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(A.a,{variant:"h4",color:"textPrimary",display:"inline",children:s.title}),Object(n.jsx)(ee.a,{readOnly:!0,value:s.ratingSum/s.numRatings,style:{float:"right"}})]}),Object(n.jsxs)(A.a,{style:{marginBottom:-5},color:"textSecondary",children:["Posted by:"," ",Object(n.jsxs)("span",{style:{color:"#800080",fontSize:"1.1rem"},children:[s.recruiter.name," "]})]}),Object(n.jsx)(A.a,{color:"textPrimary",style:{marginBottom:-5},children:s.jobType}),Object(n.jsxs)(A.a,{color:"textSecondary",style:{marginBottom:-5},children:["Duration:"," ",0===s.duration?"Indefinite":"".concat(s.duration," months")]}),Object(n.jsxs)(A.a,{color:"textSecondary",style:{marginBottom:5},children:["Remaining Positions: ",s.maxPos-s.numAccepted]}),Object(n.jsx)("div",{style:{marginBottom:5},children:s.requiredSkills.map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(R.a,{label:e},e)," "]})}))}),Object(n.jsxs)(A.a,{variant:"h4",style:{color:"lightgreen",marginBottom:-5},children:["\u20b9",s.salary]}),Object(n.jsxs)("span",{style:{color:"red",fontSize:14},children:["Apply before ",(t=s.deadlineDate,new Date(t).toLocaleString())]}),u&&Object(n.jsxs)(I.a,{fullWidth:!0,style:{marginTop:20},children:[Object(n.jsx)(h.a,{fullWidth:!0,variant:"outlined",multiline:!0,rows:"8",label:"Statement of purpose",name:"bio",value:g,onChange:function(e){return O(e.target.value)}}),Object(n.jsxs)(F.a,{children:[v(),"/250"]})]}),!u&&Object(n.jsx)(p.a,{variant:"contained",style:{float:"right",color:"white",marginBottom:10,backgroundColor:s.applied?"#f50057":s.maxPos-s.numAccepted>0&&s.maxApps-s.numApps>0?"#1769aa":"lightgrey"},display:"inline",disabled:s.applied||!(s.maxPos-s.numAccepted)||!(s.maxApps-s.numApps),onClick:function(){return d(!0)},children:s.applied?"Applied":s.maxPos-s.numAccepted>0&&s.maxApps-s.numApps>0?"Apply":"Full"}),u&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p.a,{variant:"contained",style:{float:"right",marginBottom:10,color:"white",backgroundColor:"lightgreen"},onClick:function(){if(v()>=250)return S()("Error","SOP must be less than 250 words","error");var e={headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("token")}},t={listingId:s._id,applicantId:f.user._id,sop:g};y.a.post("/api/application",t,e).then((function(){return S()("Application successfully made","","success").then((function(){return window.location="/"}))})).catch((function(e){e.response?e.response.data&&e.response.data.msg&&S()("Error",e.response.data.msg,"error"):S()("Error","Something went wrong","error")}))},children:"Confirm"}),Object(n.jsx)(p.a,{variant:"contained",color:"secondary",style:{float:"right",marginBottom:10,marginRight:10},onClick:function(){O(""),d(!1)},children:"Cancel"})]})]})})})},ne=(a(192),{searchTerm:"",wfh:!0,partTime:!0,fullTime:!0,salaryRange:[0,1e8],maxDuration:7,sortField:"salary",sortOrder:"descending"});var re=function(){var e=Object(r.useState)(ne),t=Object(l.a)(e,2),a=t[0],i=t[1],s=Object(r.useState)([]),o=Object(l.a)(s,2),j=o[0],u=o[1],d=Object(r.useState)(1e4),f=Object(l.a)(d,2),v=f[0],S=f[1],k=c.a.useContext(Be),C=k.auth,N=(k.setAuth,function(e){return 0===e.numRatings?0:e.ratingSum/e.numRatings});Object(r.useEffect)((function(){i(Object(m.a)(Object(m.a)({},a),{},{salaryRange:[a.salaryRange[0],v+1e3]}))}),[v]);var T=function(){var e=Object(H.a)(q.a.mark((function e(){var t,n,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/listing");case 3:return t=(t=(t=e.sent).data.listings).filter((function(e){return new Date(e.deadlineDate).getTime()>Date.now()&&!e.deleted})),S(Math.max.apply(Math,Object(V.a)(t.map((function(e){return e.salary}))).concat([0]))),e.next=9,y.a.get("/api/application/byapplicant/".concat(C.user._id));case 9:n=e.sent,r=n.data.applications.map((function(e){return e.listingId})),c=(c=t.filter((function(e){return-1!==e.title.trim().toLowerCase().indexOf(a.searchTerm.trim().toLowerCase())&&e.salary<=a.salaryRange[1]&&e.salary>=a.salaryRange[0]&&e.duration<a.maxDuration&&("Full Time"===e.jobType&&a.fullTime||"Part Time"===e.jobType&&a.partTime||"WFH"===e.jobType&&a.wfh)}))).map((function(e){return-1!==r.indexOf(e._id)?e.applied=!0:e.applied=!1,e})),"rating"===a.sortField?"ascending"===a.sortOrder?c.sort((function(e,t){return N(e)<N(t)?-1:1})):c.sort((function(e,t){return N(e)>N(t)?-1:1})):"ascending"===a.sortOrder?c.sort((function(e,t){return e[a.sortField]<t[a.sortField]?-1:1})):c.sort((function(e,t){return e[a.sortField]>t[a.sortField]?-1:1})),u(c),console.log(c),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(T,[]);var w=function(e){i(Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e.target.name,e.target.value)))},E=function(e){i(Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e.target.name,e.target.checked)))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y,{}),Object(n.jsxs)("div",{className:"FindJobs",children:[Object(n.jsxs)("div",{className:"FilterPanel",children:[Object(n.jsx)("h1",{children:"Search"}),Object(n.jsx)(h.a,{fullWidth:!0,variant:"outlined",name:"searchTerm",placeholder:"Search term",value:a.searchTerm,onChange:w}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("h1",{children:"Filters"}),Object(n.jsxs)(I.a,{component:"fieldset",children:[Object(n.jsx)(A.a,{gutterBottom:!0,children:"Job type"}),Object(n.jsxs)(z.a,{children:[Object(n.jsx)(x.a,{control:Object(n.jsx)(K.a,{checked:a.fullTime,onChange:E,name:"fullTime"}),label:"Full Time"}),Object(n.jsx)(x.a,{control:Object(n.jsx)(K.a,{checked:a.partTime,onChange:E,name:"partTime"}),label:"Part Time"}),Object(n.jsx)(x.a,{control:Object(n.jsx)(K.a,{checked:a.wfh,onChange:E,name:"wfh"}),label:"Work From Home"})]})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{gutterBottom:!0,children:"Salary (per month)"}),Object(n.jsx)("br",{}),Object(n.jsx)(U.a,{style:{minWidth:200},value:a.salaryRange,onChange:function(e,t){console.log(t),i(Object(m.a)(Object(m.a)({},a),{},{salaryRange:t}))},name:"salaryRange",valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:0,max:v+1e3,marks:[{value:0,label:"0"},{value:(v+1e3)/2,label:((v+1e3)/2).toString()},{value:v+1e3,label:(v+1e3).toString()}]})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(A.a,{gutterBottom:!0,children:"Duration less than (months)"}),Object(n.jsx)(X.a,{name:"maxDuration",value:a.maxDuration,onChange:w,children:Object(V.a)(Array(7).keys()).map((function(e){return Object(n.jsx)(G.a,{value:e+1,children:e+1},e+1)}))})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("h1",{children:"Sort By"}),Object(n.jsxs)(X.a,{name:"sortField",value:a.sortField,onChange:w,children:[Object(n.jsx)(G.a,{value:"salary",children:"Salary"}),Object(n.jsx)(G.a,{value:"duration",children:"Duration"}),Object(n.jsx)(G.a,{value:"rating",children:"Rating"})]}),Object(n.jsxs)(O.a,{row:!0,value:a.sortOrder,name:"sortOrder",onChange:w,children:[Object(n.jsx)(x.a,{value:"ascending",control:Object(n.jsx)(g.a,{}),label:"Ascending"}),Object(n.jsx)(x.a,{value:"descending",control:Object(n.jsx)(g.a,{}),label:"Descending"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"BottomButtons",children:[Object(n.jsx)(p.a,{variant:"contained",color:"primary",style:{marginRight:10},onClick:T,children:"Apply"}),Object(n.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){return i(ne)},children:"Reset"})]})]}),Object(n.jsx)(Z.a,{orientation:"vertical",flexItem:!0,style:{position:"fixed",height:"100%"}}),Object(n.jsxs)("div",{className:"Jobs",children:[Object(n.jsx)(A.a,{variant:"h1",gutterBottom:!0,children:"Jobs..."}),j.map((function(e){return Object(n.jsx)(ae,{listing:e},e._id)}))]})]})]})},ce=a(251),ie=a(255),se=a(254),oe=a(250),le=a(252),je=a(253),ue=a(140),de=(a(193),function(e){return e?new Date(e).toDateString():"--"}),be=function(e){switch(e){case"Applied":return"black";case"Shortlisted":return"blue";case"Rejected":return"red";case"Accepted":return"green"}};var me=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],i=t[1],s=c.a.useContext(Be),o=s.auth,j=(s.setAuth,function(e,t){var n=a.map((function(a){return a.id===e.id&&(a.rating=t),a}));i(n)});return Object(r.useEffect)(Object(H.a)(q.a.mark((function e(){var t,a,n,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/application/byapplicant/".concat(o.user._id));case 3:return t=(t=e.sent).data.applications,console.log(t),a=t.map((function(e){return e.listingId})),e.next=9,y.a.get("api/listing");case 9:return n=(n=e.sent).data.listings.filter((function(e){return-1!==a.indexOf(e._id)})),e.next=13,y.a.get("/api/rating/listing/byapplicant/".concat(o.user._id));case 13:r=(r=e.sent).data.ratings,c=t.map((function(e){var t=n.find((function(t){return t._id===e.listingId})),a=0;return r&&(a=r.find((function(e){return e.listingId===t._id}))),console.log(a),{id:e._id,title:t.title,recruiterName:t.recruiter.name,status:e.status,salary:t.salary,closeDate:e.closeDate,rating:a?a.value:0,listingId:t._id}})),i(c),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])}))),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y,{}),Object(n.jsxs)("div",{className:"MyApplications",children:[Object(n.jsx)(A.a,{variant:"h1",gutterBottom:!0,children:"My Applications"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(oe.a,{component:ue.a,children:Object(n.jsxs)(ce.a,{className:"ApplicationTable",children:[Object(n.jsx)(le.a,{children:Object(n.jsxs)(je.a,{children:[Object(n.jsx)(se.a,{children:"Job Title"}),Object(n.jsx)(se.a,{align:"right",children:"Recruiter Name"}),Object(n.jsx)(se.a,{align:"right",children:"Status"}),Object(n.jsx)(se.a,{align:"right",children:"Salary per month"}),Object(n.jsx)(se.a,{align:"right",children:"Date of Joining"}),Object(n.jsx)(se.a,{align:"right",children:"Rate"})]})}),Object(n.jsx)(ie.a,{children:a.map((function(e){return Object(n.jsxs)(je.a,{children:[Object(n.jsx)(se.a,{component:"th",scope:"row",children:e.title}),Object(n.jsx)(se.a,{align:"right",children:e.recruiterName}),Object(n.jsx)(se.a,{align:"right",style:{color:be(e.status)},children:e.status}),Object(n.jsxs)(se.a,{align:"right",children:["\u20b9",e.salary]}),Object(n.jsx)(se.a,{align:"right",children:"Accepted"===e.status?de(e.closeDate):"--"}),Object(n.jsx)(se.a,{align:"right",children:"Accepted"===e.status?Object(n.jsx)(ee.a,{value:e.rating,name:e.id,onChange:function(t,a){return function(e,t){var a=e.rating;j(e,t);var n={value:t,listingId:e.listingId,applicantId:o.user._id},r={headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("token")}};y.a.post("/api/rating/listing",n,r).then((function(e){S()("Rating changed","","success")})).catch((function(t){t.response?t.response.data&&t.response.data.msg&&S()("Error",t.response.data.msg,"error").then((function(){return j(e,a)})):S()("Error","Something went wrong","error").then((function(){return j(e,a)}))}))}(e,a)}}):"--"})]},e.id)}))})]})})]})]})},he=a(207),pe=a(96),ge=a(23),Oe=a(256),xe=a(264),fe=(a(194),{title:"",requiredSkills:[],currSkill:"",jobType:"Full Time",maxApps:0,maxPos:0,duration:0,salary:1e3,deadlineDate:Date.now()}),ye=["Python","C","Javascript","C++","HTML","CSS","Java","Rust","Kotlin","PHP"];var ve=function(){var e=Object(r.useState)(fe),t=Object(l.a)(e,2),a=t[0],i=t[1],s=c.a.useContext(Be),o=s.auth,j=(s.setAuth,function(e){return new Date(e)}),u=function(e){i(Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e.target.name,e.target.value)))},d=function(e){i(Object(m.a)(Object(m.a)({},a),{},{deadlineDate:e}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y,{}),Object(n.jsxs)("div",{className:"CreateListing",children:[Object(n.jsx)("div",{className:"CreateListing-side"}),Object(n.jsx)("div",{className:"CreateListing-header",children:Object(n.jsx)(A.a,{variant:"h1",children:"Create Listing"})}),Object(n.jsxs)("div",{className:"CreateListing-main",children:[Object(n.jsxs)("form",{autoComplete:"off",children:[Object(n.jsx)(h.a,{variant:"outlined",label:"Job Title",name:"title",value:a.title,onChange:u,className:"FormElement"}),Object(n.jsxs)(I.a,{variant:"outlined",className:"FormElement",children:[Object(n.jsx)(he.a,{children:"Job Type"}),Object(n.jsxs)(X.a,{name:"jobType",value:a.jobType,onChange:u,label:"Job Type",children:[Object(n.jsx)(G.a,{value:"Full Time",children:"Full Time"}),Object(n.jsx)(G.a,{value:"Part Time",children:"Part Time"}),Object(n.jsx)(G.a,{value:"WFH",children:"Work From Home"})]})]}),Object(n.jsxs)(I.a,{variant:"outlined",className:"FormElement",children:[Object(n.jsx)(he.a,{children:"Duration"}),Object(n.jsx)(X.a,{name:"duration",value:a.duration,onChange:u,label:"Maximum Duration",children:Object(V.a)(Array(7).keys()).map((function(e){return Object(n.jsxs)(G.a,{value:e,children:[e,!e&&"(Indefinite)"]},e)}))})]}),Object(n.jsx)("br",{}),Object(n.jsx)(h.a,{variant:"outlined",label:"Salary (\u20b9)",name:"salary",value:a.salary,onChange:u,className:"FormElement"}),Object(n.jsx)(h.a,Object(b.a)({variant:"outlined",label:"Number of positions",name:"maxPos",value:a.maxPos,onChange:u,className:"FormElement"},"className","FormElement")),Object(n.jsx)(h.a,{variant:"outlined",label:"Maximum Applications",name:"maxApps",value:a.maxApps,onChange:u,className:"FormElement"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(ge.a,{utils:pe.a,children:[Object(n.jsx)(Oe.a,{className:"FormElement",disableToolbar:!0,variant:"inline",inputVariant:"outlined",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Deadline date",value:j(a.deadlineDate),onChange:d,KeyboardButtonProps:{"aria-label":"change date"}}),Object(n.jsx)(xe.a,{className:"FormElement",margin:"normal",id:"time-picker",label:"Deadline time",inputVariant:"outlined",value:j(a.deadlineDate),onChange:d,KeyboardButtonProps:{"aria-label":"change time"}})]})]}),Object(n.jsx)(A.a,{variant:"h5",children:"Required Skills"}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"SkillForm",children:[Object(n.jsx)(D.a,{freeSolo:!0,options:ye,name:"currSkill",inputValue:a.currSkill,onInputChange:function(e,t){i(Object(m.a)(Object(m.a)({},a),{},{currSkill:t}))},renderInput:function(e){return Object(n.jsx)(h.a,Object(m.a)(Object(m.a)({},e),{},{label:"Skill",variant:"outlined"}))}}),Object(n.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){if(!a.currSkill.trim())return S()("Error","skill can't be empty","error");var e=a.requiredSkills;e.push(a.currSkill),i(Object(m.a)(Object(m.a)({},a),{},{requiredSkills:e,currSkill:""}))},children:"Add"})]}),Object(n.jsx)("br",{}),a.requiredSkills.map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(R.a,{className:"SkillChip",label:e,onDelete:function(){return function(e){var t=a.requiredSkills.filter((function(t){return t!==e}));i(Object(m.a)(Object(m.a)({},a),{},{requiredSkills:t}))}(e)}},e),Object(n.jsx)("span",{})]})})),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){return NaN===Number(a.maxPos)||NaN===Number(a.maxApps)||NaN===Number(a.salary)?S()("Error","Please enter NUMBERS","error"):Number(a.maxPos)<=0||Number(a.maxApps)<=0||a.salary<=0?S()("Error","Value greater than 0 required","error"):Number(a.maxPos)>Number(a.maxApps)?(console.log(a.maxPos),console.log(a.maxApps),S()("Error","Positions can't be mor than allowed applications","error")):a.deadlineDate<Date.now()?S()("Error","Deadline must be in future","error"):void function(){var e={headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("token")}},t=Object(m.a)(Object(m.a)({},a),{},{maxPos:Number(a.maxPos),maxApps:Number(a.maxApps),salary:Number(a.salary),recruiter:o.user});y.a.post("/api/listing",t,e).then((function(e){S()("Listing created successfully","","success")})).catch((function(e){e.response?e.response.data&&e.response.data.msg&&S()("Error",e.response.data.msg,"error"):S()("Error","Something went wrong","error")}))}()},style:{marginRight:20},children:"Post"}),Object(n.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){return i(fe)},children:"Cancel"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})]})]})},Se={id:"123456",title:"Job Title",jobType:"Full time",maxApps:20,numApps:4,maxPos:10,numAccepted:1,postingDate:1611146620579,deadlineDate:1611146620579,requiredSkills:["Python","Data Science","Javascript"],duration:3,salary:5e3,numRatings:4,ratingSum:17,recruiter:{id:"1234556",name:"XYZ Recruiters",email:"xyzrecruiters@recruiter.com"}},ke=function(e){return new Date(e).toLocaleString()};var Ce=function(e){var t=Object(r.useState)(!1),a=Object(l.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)(e.listing?e.listing:Se),j=Object(l.a)(s,2),u=j[0],d=j[1],g=function(e){return new Date(e)},O=function(e){d(Object(m.a)(Object(m.a)({},u),{},{deadlineDate:e}))},x=function(e){d(Object(m.a)(Object(m.a)({},u),{},Object(b.a)({},e.target.name,e.target.value)))},f=function(){var e="/api/listing/".concat(u._id),t={headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("token")}};y.a.delete(e,t).then((function(e){S()("Listing deleted successfully","","success").then((function(){return location.reload()}))})).catch((function(e){e.response?e.response.data&&e.response.data.msg&&S()("Error",e.response.data.msg,"error"):(console.log(e),S()("Error","Something went wrong","error"))}))},v=function(){return NaN===Number(u.maxPos)||NaN===Number(u.maxApps)?S()("Error","Please enter NUMBERS","error"):Number(u.maxPos)<=0||Number(u.maxApps)<=0?S()("Error","Value greater than 0 required","error"):Number(u.maxPos)>Number(u.maxApps)?S()("Error","Positions can't be more than allowed applications","error"):u.deadlineDate<Date.now()?S()("Error","Deadline must be in future","error"):void function(){var e="/api/listing/".concat(u._id),t={headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("token")}},a={maxApps:u.maxApps,maxPos:u.maxPos,deadlineDate:u.deadlineDate};y.a.put(e,a,t).then((function(e){S()("Listing updated successfully","","success"),i(!1)})).catch((function(e){e.response?e.response.data&&(e.response.data.msg?S()("Error",e.response.data.msg,"error"):e.response.data.errors&&S()("Error",e.response.data.errors.join("<br/>"),"error")):(console.log(e),S()("Error","Something went wrong","error"))}))}()};return Object(n.jsx)($.a,{style:{marginBottom:60},children:Object(n.jsxs)(Q.a,{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(A.a,{variant:"h4",color:"textPrimary",display:"inline",children:u.title}),Object(n.jsx)(ee.a,{readOnly:!0,value:u.ratingSum/u.numRatings,style:{float:"right"}})]}),Object(n.jsxs)(A.a,{style:{marginBottom:-5},color:"textSecondary",children:["Posted by:"," ",Object(n.jsxs)("span",{style:{color:"#800080",fontSize:"1.1rem"},children:[u.recruiter.name," "]})]}),Object(n.jsxs)(A.a,{style:{marginBottom:-5},color:"textSecondary",children:["Date of Posting: ",ke(u.postingDate)," "]}),Object(n.jsx)(A.a,{color:"textPrimary",style:{marginBottom:-5},children:u.jobType}),Object(n.jsxs)(A.a,{color:"textSecondary",style:{marginBottom:-5},children:["Duration:"," ",0===u.duration?"Indefinite":"".concat(u.duration," months")]}),Object(n.jsxs)(A.a,{color:"textSecondary",style:{marginBottom:-5},children:["Remaining Positions: ",u.maxPos-u.numAccepted]}),Object(n.jsxs)(A.a,{color:"textSecondary",style:{marginBottom:5},children:["Number of Applications: ",u.numApps]}),Object(n.jsx)("div",{style:{marginBottom:5},children:u.requiredSkills.map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(R.a,{label:e},e)," "]})}))}),Object(n.jsxs)(A.a,{variant:"h4",style:{color:"lightgreen",marginBottom:0},children:["\u20b9",u.salary]}),c?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h.a,Object(b.a)({variant:"outlined",label:"Number of positions",name:"maxPos",value:u.maxPos,onChange:x,className:"FormElement"},"className","FormElement")),Object(n.jsx)(h.a,{variant:"outlined",label:"Maximum Applications",name:"maxApps",value:u.maxApps,onChange:x,className:"FormElement"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(ge.a,{utils:pe.a,children:[Object(n.jsx)(Oe.a,{className:"FormElement",disableToolbar:!0,variant:"inline",inputVariant:"outlined",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Deadline date",value:g(u.deadlineDate),onChange:O,KeyboardButtonProps:{"aria-label":"change date"}}),Object(n.jsx)(xe.a,{className:"FormElement",margin:"normal",id:"time-picker",label:"Deadline time",inputVariant:"outlined",value:g(u.deadlineDate),onChange:O,KeyboardButtonProps:{"aria-label":"change time"}})]}),Object(n.jsx)("br",{}),Object(n.jsx)(p.a,{style:{float:"right",marginBottom:20,marginRight:10,backgroundColor:"lightgreen",color:"white"},onClick:v,children:"Update"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(A.a,{style:{marginBottom:-5},color:"textSecondary",children:["Deadline: ",ke(u.deadlineDate)," "]}),Object(n.jsxs)(A.a,{color:"textSecondary",style:{marginBottom:-5},children:["Maximum Applications: ",u.maxApps]}),Object(n.jsxs)(A.a,{color:"textSecondary",style:{marginBottom:5},children:["Number of positions: ",u.maxPos]}),Object(n.jsx)(J.a,{component:o.b,to:"applications/".concat(u._id),children:Object(n.jsx)(p.a,{style:{float:"left",marginBottom:20,marginLeft:0},color:"primary",children:"View Applicants"})}),Object(n.jsx)(p.a,{style:{float:"right",marginBottom:20,marginRight:10},variant:"contained",color:"secondary",onClick:f,children:"Delete"}),Object(n.jsx)(p.a,{style:{float:"right",marginBottom:20,marginRight:10},variant:"contained",color:"primary",onClick:function(){return i(!0)},children:"Edit"})]})]})})};a(195);var Ne=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],i=t[1],s=c.a.useContext(Be),o=s.auth;return s.setAuth,Object(r.useEffect)((function(){var e="/api/listing/byrecruiter/".concat(o.user._id);y.a.get(e).then((function(e){i(e.data.listings.filter((function(e){return!e.deleted&&e.numAccepted<e.maxPos})))})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y,{}),Object(n.jsx)("div",{className:"MyListings",children:Object(n.jsxs)("div",{className:"Listings",children:[Object(n.jsx)(A.a,{variant:"h1",gutterBottom:!0,children:"My Listings"}),a.map((function(e){return Object(n.jsx)(Ce,{listing:e},e._id)}))]})})]})},Te=a(21),Ae=(a(196),function(e){return e?new Date(e).toDateString():"--"}),we=function(e){switch(e){case"Applied":return"black";case"Shortlisted":return"blue";case"Rejected":return"red";case"Accepted":return"green"}},Ee=(Date.now(),{sortField:"name",sortOrder:"ascending"});var Ie=function(){var e=Object(r.useState)(Ee),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)([]),s=Object(l.a)(i,2),o=s[0],j=s[1],u=Object(Te.g)().listingId,d=function(){var e=Object(H.a)(q.a.mark((function e(){var t,n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/application/bylisting/".concat(u));case 3:return t=(t=e.sent).data.applications,console.log(t),e.next=8,y.a.get("/api/applicant/bylisting/".concat(u));case 8:n=(n=e.sent).data.users,console.log(n),(r=t.map((function(e){var t=n.find((function(t){return t._id===e.applicantId}));return{id:e._id,name:t.name,education:t.education,skills:t.skills,sop:e.sop,applicationDate:e.appDate,rating:0===t.numRatings?0:t.ratingSum/t.numRatings,status:e.status}}))).sort((function(e,t){return e[a.sortField]<t[a.sortField]?"ascending"===a.sortOrder?-1:1:"ascending"===a.sortOrder?1:-1})),j(r),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(d,[]);var h=function(e,t){var a="/api/application/".concat(e),n={status:t},r={headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("token")}};y.a.put(a,n,r).then((function(){swal("Candidate ".concat(t),"","success").then((function(){return location.reload()}))})).catch((function(e){e.response?e.response.data&&e.response.data.msg&&swal("Error",e.response.data.msg,"error"):swal("Error","Something went wrong","error")}))},f=function(e){return"Applied"===e.status?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){return h(e.id,"Shortlisted")},children:"Shortlist"}),Object(n.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){return h(e.id,"Rejected")},children:"Reject"})]}):"Shortlisted"===e.status?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p.a,{variant:"contained",style:{color:"white",backgroundColor:"lightgreen"},onClick:function(){return h(e.id,"Accepted")},children:"Accept"}),Object(n.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){return h(e.id,"Rejected")},children:"Reject"})]}):"--"},v=function(e){c(Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y,{}),Object(n.jsxs)("div",{className:"Applications",children:[Object(n.jsxs)("div",{className:"FilterPanel",children:[Object(n.jsx)("h1",{children:"Sort By"}),Object(n.jsxs)(X.a,{name:"sortField",value:a.sortField,onChange:v,children:[Object(n.jsx)(G.a,{value:"name",children:"Name"}),Object(n.jsx)(G.a,{value:"applicationDate",children:"Application Date"}),Object(n.jsx)(G.a,{value:"rating",children:"Rating"})]}),Object(n.jsxs)(O.a,{row:!0,value:a.sortOrder,name:"sortOrder",onChange:v,children:[Object(n.jsx)(x.a,{value:"ascending",control:Object(n.jsx)(g.a,{}),label:"Ascending"}),Object(n.jsx)(x.a,{value:"descending",control:Object(n.jsx)(g.a,{}),label:"Descending"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"BottomButtons",children:Object(n.jsx)(p.a,{variant:"contained",color:"primary",style:{marginRight:10},onClick:d,children:"Apply"})})]}),Object(n.jsx)(Z.a,{orientation:"vertical",flexItem:!0,style:{position:"fixed",height:"100%"}}),Object(n.jsxs)("div",{className:"MyApplications",children:[Object(n.jsx)(A.a,{variant:"h1",gutterBottom:!0,children:"Applications"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(oe.a,{component:ue.a,children:Object(n.jsxs)(ce.a,{className:"ApplicationTable",children:[Object(n.jsx)(le.a,{children:Object(n.jsxs)(je.a,{children:[Object(n.jsx)(se.a,{align:"right",children:"Applicant Name"}),Object(n.jsx)(se.a,{align:"right",children:"Skills"}),Object(n.jsx)(se.a,{align:"right",children:"Education"}),Object(n.jsx)(se.a,{align:"right",children:"Application Date"}),Object(n.jsx)(se.a,{align:"right",children:"SOP"}),Object(n.jsx)(se.a,{align:"right",children:"Rating"}),Object(n.jsx)(se.a,{align:"right",children:"Status"}),Object(n.jsx)(se.a,{align:"right",children:"Action"})]})}),Object(n.jsx)(ie.a,{children:o.map((function(e){return Object(n.jsxs)(je.a,{children:[Object(n.jsx)(se.a,{component:"th",scope:"row",children:e.name}),Object(n.jsx)(se.a,{align:"right",children:Object(n.jsx)(T.a,{dense:!0,children:e.skills.map((function(t){return Object(n.jsx)(w.a,{children:Object(n.jsx)(E.a,{primary:t})},"".concat(t).concat(e.name))}))})}),Object(n.jsx)(se.a,{align:"right",children:Object(n.jsx)(T.a,{dense:!0,children:e.education.map((function(e){return Object(n.jsx)(w.a,{children:Object(n.jsx)(E.a,{primary:e.instituteName,secondary:"".concat(e.startYear,"-").concat(e.endYear)})},"".concat(e.instituteName).concat(e.startYear,"-").concat(e.endYear))}))})}),Object(n.jsx)(se.a,{align:"right",children:Ae(e.applicationDate)}),Object(n.jsx)(se.a,{align:"right",children:e.sop}),Object(n.jsx)(se.a,{align:"right",children:Object(n.jsx)(ee.a,{readOnly:!0,value:e.rating})}),Object(n.jsx)(se.a,{align:"right",style:{color:we(e.status)},children:e.status}),Object(n.jsx)(se.a,{align:"right",children:f(e)})]},e.name)}))})]})})]})]})]})},Fe=(a(197),function(e){return e?new Date(e).toDateString():"--"}),De=(Date.now(),{sortField:"name",sortOrder:"ascending"});var Re=function(){var e=Object(r.useState)(De),t=Object(l.a)(e,2),a=t[0],i=t[1],s=Object(r.useState)([]),o=Object(l.a)(s,2),j=o[0],u=o[1],d=c.a.useContext(Be),h=d.auth,f=(d.setAuth,function(){var e=Object(H.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/applicant/byrecruiter/".concat(h.user._id));case 3:return t=(t=e.sent).data.applicants,e.next=7,y.a.get("/api/rating/applicant/byrecruiter/".concat(h.user._id));case 7:n=(n=e.sent).data.ratings,(t=t.map((function(e){var t=n.find((function(t){return t.applicantId===e.id}));return e.myRating=t?t.value:0,e}))).sort((function(e,t){return e[a.sortField]<t[a.sortField]?"ascending"===a.sortOrder?-1:1:"ascending"===a.sortOrder?1:-1})),console.log(t),u(t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}()),v=function(e,t){var a=j.map((function(a){return a.id===e.id&&(a.myRating=t),a}));u(a)};Object(r.useEffect)(f,[]);var k=function(e){i(Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y,{}),Object(n.jsxs)("div",{className:"AcceptedEmployees",children:[Object(n.jsxs)("div",{className:"FilterPanel",children:[Object(n.jsx)("h1",{children:"Sort By"}),Object(n.jsxs)(X.a,{name:"sortField",value:a.sortField,onChange:k,children:[Object(n.jsx)(G.a,{value:"name",children:"Name"}),Object(n.jsx)(G.a,{value:"title",children:"Job Title"}),Object(n.jsx)(G.a,{value:"joiningDate",children:"Joining Date"}),Object(n.jsx)(G.a,{value:"rating",children:"Rating"})]}),Object(n.jsxs)(O.a,{row:!0,value:a.sortOrder,name:"sortOrder",onChange:k,children:[Object(n.jsx)(x.a,{value:"ascending",control:Object(n.jsx)(g.a,{}),label:"Ascending"}),Object(n.jsx)(x.a,{value:"descending",control:Object(n.jsx)(g.a,{}),label:"Descending"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"BottomButtons",children:[Object(n.jsx)(p.a,{variant:"contained",color:"primary",style:{marginRight:10},onClick:f,children:"Apply"}),Object(n.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){i(De)},children:"Reset"})]})]}),Object(n.jsx)(Z.a,{orientation:"vertical",flexItem:!0,style:{position:"fixed",height:"100%"}}),Object(n.jsxs)("div",{className:"Employees",children:[Object(n.jsx)(A.a,{variant:"h1",gutterBottom:!0,children:"Accepted Employees"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(oe.a,{component:ue.a,children:Object(n.jsxs)(ce.a,{className:"ApplicationTable",children:[Object(n.jsx)(le.a,{children:Object(n.jsxs)(je.a,{children:[Object(n.jsx)(se.a,{align:"right",children:"Applicant Name"}),Object(n.jsx)(se.a,{align:"right",children:"Joining date"}),Object(n.jsx)(se.a,{align:"right",children:"Job Type"}),Object(n.jsx)(se.a,{align:"right",children:"Job Title"}),Object(n.jsx)(se.a,{align:"right",children:"Rating"}),Object(n.jsx)(se.a,{align:"right",children:"Rate"})]})}),Object(n.jsx)(ie.a,{children:j.map((function(e){return Object(n.jsxs)(je.a,{children:[Object(n.jsx)(se.a,{component:"th",scope:"row",children:e.name}),Object(n.jsx)(se.a,{align:"right",children:Fe(e.joiningDate)}),Object(n.jsx)(se.a,{align:"right",children:e.jobType}),Object(n.jsx)(se.a,{align:"right",children:e.title}),Object(n.jsx)(se.a,{align:"right",children:Object(n.jsx)(ee.a,{readOnly:!0,value:e.rating,precision:.25})}),Object(n.jsx)(se.a,{children:Object(n.jsx)(ee.a,{name:e.id,value:e.myRating,onChange:function(t,a){return function(e,t){var a=e.myRating;v(e,t);var n={value:t,applicantId:e.id,recruiterId:h.user._id},r={headers:{"Content-Type":"application/json","x-auth-token":localStorage.getItem("token")}};y.a.post("/api/rating/applicant",n,r).then((function(e){S()("Rating changed","","success").then((function(){return f()}))})).catch((function(t){t.response?t.response.data&&t.response.data.msg&&S()("Error",t.response.data.msg,"error").then((function(){return v(e,a)})):S()("Error","Something went wrong","error").then((function(){return v(e,a)}))}))}(e,a)}})})]},e.id)}))})]})})]})]})]})},Pe={loggedIn:!1,token:{},user:{},userType:""},Be=c.a.createContext(null);var Le=function(){var e=Object(r.useState)(Pe),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(!0),s=Object(l.a)(i,2),o=s[0],j=s[1];return Object(r.useEffect)((function(){if(localStorage.getItem("token")&&localStorage.getItem("userType")&&localStorage.getItem("user")){var e=localStorage.getItem("userType"),t=JSON.parse(localStorage.getItem("user")),a=localStorage.getItem("token");if("Recruiter"===e||"Applicant"===e){var n="/api/auth/".concat(e,"/").concat(t._id),r={headers:{"Content-Type":"application/json","x-auth-token":a}};y.a.get(n,r).then((function(n){c({loggedIn:!0,user:t,token:a,userType:e})})).catch((function(e){localStorage.removeItem("user"),localStorage.removeItem("userType"),localStorage.removeItem("token"),c(Pe)}))}else localStorage.removeItem("user"),localStorage.removeItem("userType"),localStorage.removeItem("token"),c(Pe)}}),[]),Object(r.useEffect)((function(){setTimeout((function(){return j(!1)}),500)}),[a]),o?Object(n.jsx)(d,{}):Object(n.jsx)(Be.Provider,{value:{auth:a,setAuth:c},children:Object(n.jsxs)(Te.d,{children:[Object(n.jsx)(Te.b,{path:"/acceptedemployees",children:function(){return a.loggedIn&&"Recruiter"===a.userType?Object(n.jsx)(Re,{}):Object(n.jsx)(Te.a,{to:"/"})}}),Object(n.jsx)(Te.b,{path:"/applications/:listingId",children:function(){return a.loggedIn&&"Recruiter"===a.userType?Object(n.jsx)(Ie,{}):Object(n.jsx)(Te.a,{to:"/"})}}),Object(n.jsx)(Te.b,{path:"/myapplications",children:function(){return a.loggedIn&&"Applicant"===a.userType?Object(n.jsx)(me,{}):Object(n.jsx)(Te.a,{to:"/"})}}),Object(n.jsx)(Te.b,{path:"/mylistings",children:function(){return a.loggedIn&&"Recruiter"===a.userType?Object(n.jsx)(Ne,{}):Object(n.jsx)(Te.a,{to:"/"})}}),Object(n.jsx)(Te.b,{path:"/profile",children:Object(n.jsx)(M,{})}),Object(n.jsx)(Te.b,{path:"/",children:function(){return a.loggedIn?"Recruiter"===a.userType?Object(n.jsx)(ve,{}):Object(n.jsx)(re,{}):Object(n.jsx)(N,{})}})]})})},Je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,267)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};s.a.render(Object(n.jsx)(o.a,{children:Object(n.jsx)(Le,{})}),document.getElementById("root")),Je()}},[[198,1,2]]]);
//# sourceMappingURL=main.2838a709.chunk.js.map